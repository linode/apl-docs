"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[7787],{66:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=t(5893),i=t(1151);const r={slug:"using-argo-cd",title:"Using Argo CD",sidebar_label:"Using Argo CD"},a=void 0,o={id:"get-started/labs/using-argo-cd",title:"Using Argo CD",description:"Creating Kubernetes resources using kubectl apply -f can be inefficient. As a developer, managing resources based on code stored in Git enhances control and traceability. Argo CD is integrated to provide a seamless GitOps experience, streamlining your deployment process.",source:"@site/docs/get-started/labs/using-argo-cd.md",sourceDirName:"get-started/labs",slug:"/get-started/labs/using-argo-cd",permalink:"/docs/get-started/labs/using-argo-cd",draft:!1,unlisted:!1,editUrl:"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/using-argo-cd.md",tags:[],version:"current",frontMatter:{slug:"using-argo-cd",title:"Using Argo CD",sidebar_label:"Using Argo CD"},sidebar:"mainSidebar",previous:{title:"Create Sealed Secrets",permalink:"/docs/get-started/labs/create-sealed-secrets"},next:{title:"Use the Catalog",permalink:"/docs/get-started/labs/use-catalog"}},c={},d=[{value:"Create Kubernetes resources with Argo CD",id:"create-kubernetes-resources-with-argo-cd",level:2},{value:"See the Power of Argo CD in action",id:"see-the-power-of-argo-cd-in-action",level:2}];function l(e){const n={code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Creating Kubernetes resources using ",(0,s.jsx)(n.code,{children:"kubectl apply -f"})," can be inefficient. As a developer, managing resources based on code stored in Git enhances control and traceability. Argo CD is integrated to provide a seamless GitOps experience, streamlining your deployment process."]}),"\n",(0,s.jsx)(n.h2,{id:"create-kubernetes-resources-with-argo-cd",children:"Create Kubernetes resources with Argo CD"}),"\n",(0,s.jsx)(n.p,{children:"Start by navigating to the apps section in the Console, where you will find an app named Argo CD. Click on it to proceed."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Argo CD App in the Console",src:t(3330).Z+"",width:"3160",height:"1564"})}),"\n",(0,s.jsx)(n.p,{children:"In Argo CD, notice that an application specific to your team has already been set up. This application syncs with any manifest present in the Gitea repository designated for your team."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Argo CD Team Application Overview",src:t(9319).Z+"",width:"2992",height:"2314"})}),"\n",(0,s.jsxs)(n.p,{children:["After clicking on the app and selecting ",(0,s.jsx)(n.code,{children:"APP DETAILS"}),", you'll find the ",(0,s.jsx)(n.code,{children:"REPO URL"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Return to the Console, select the Gitea app in the apps section. In Gitea you will see a repository titled ",(0,s.jsx)(n.code,{children:"otomi/team-<name>-argocd"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Gitea Repository for Argo CD",src:t(4710).Z+"",width:"2878",height:"1554"})}),"\n",(0,s.jsx)(n.h2,{id:"see-the-power-of-argo-cd-in-action",children:"See the Power of Argo CD in action"}),"\n",(0,s.jsx)(n.p,{children:"Let's demonstrate the capabilities of Argo CD by adding some manifests to the repository:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a file named ",(0,s.jsx)(n.code,{children:"deploy-nginx.yaml"})," in the repository."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Insert the following contents into the file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx\n  labels:\n    otomi.io/app: nginx\n    app: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n        - name: nginx\n          image: nginxinc/nginx-unprivileged:stable\n          resources:\n            limits:\n              memory: '128Mi'\n              cpu: '200m'\n            requests:\n              memory: '64Mi'\n              cpu: '100m'\n          ports:\n            - containerPort: 8080\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx\nspec:\n  selector:\n    app: nginx\n  ports:\n    - port: 80\n      targetPort: 8080\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Commit the changes to the repository."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Once you return to the Argo CD application, click on the ",(0,s.jsx)(n.code,{children:"team<name>"})," application."]}),"\n",(0,s.jsxs)(n.p,{children:["The application is configured for automatic syncing, so a manual ",(0,s.jsx)(n.code,{children:"SYNC"})," is not needed."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Syncing in ArgoCD",src:t(7086).Z+"",width:"2900",height:"1484"})})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},9319:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/argo-team-app-c542dc6043accbd15bd6e1341e0f2621.png"},4710:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/argo-team-repo-55d332f9a5cd3961872c7b4c2dc42c73.png"},7086:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/argo-team-sync-fadd7f408a457c16fc11e9faf568ee2a.png"},3330:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/team-app-argo-2550459b6c97751b91a978b167d343c7.png"},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var s=t(7294);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);