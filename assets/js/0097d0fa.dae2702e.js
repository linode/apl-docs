"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[9832],{9101:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>n,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var o=s(5893),r=s(1151);const a={slug:"push-images",title:"Push images to Harbor",sidebar_label:"Push Images"},n=void 0,i={id:"get-started/labs/push-images",title:"Push images to Harbor",description:"For this lab, Harbor needs to be activated and the cluster needs to be configured with trusted certificates (like Let's Encrypt using production certificate).",source:"@site/docs/get-started/labs/push-images.md",sourceDirName:"get-started/labs",slug:"/get-started/labs/push-images",permalink:"/docs/get-started/labs/push-images",draft:!1,unlisted:!1,editUrl:"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/push-images.md",tags:[],version:"current",frontMatter:{slug:"push-images",title:"Push images to Harbor",sidebar_label:"Push Images"},sidebar:"mainSidebar",previous:{title:"Trigger Builds",permalink:"/docs/get-started/labs/trigger-builds"},next:{title:"Create Sealed Secrets",permalink:"/docs/get-started/labs/create-sealed-secrets"}},d={},c=[{value:"Login to Harbor",id:"login-to-harbor",level:2}];function l(e){const t={admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsx)(t.p,{children:"For this lab, Harbor needs to be activated and the cluster needs to be configured with trusted certificates (like Let's Encrypt using production certificate)."})}),"\n",(0,o.jsx)(t.h2,{id:"login-to-harbor",children:"Login to Harbor"}),"\n",(0,o.jsxs)(t.p,{children:["To be able to push images to Harbor, you'll need a robot account with push permissions. Teams are offered the option to download the Docker config for their team's private registry in Harbor. In the left menu you will see the option ",(0,o.jsx)(t.code,{children:"Download DOCKERCFG"}),". Click on it to download the credentials."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"harbor-projects",src:s(5701).Z+"",width:"3144",height:"1488"})}),"\n",(0,o.jsxs)(t.p,{children:["When you have downloaded the docker config then run ",(0,o.jsx)(t.code,{children:"docker login"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"docker login -u 'otomi-team-<team-name>-push' -p <token> harbor.<your-domain>\n"})}),"\n",(0,o.jsx)(t.p,{children:"Build and tag your image:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"docker build -t harbor.<your-domain>/<team-name>/<image-name>:<tag> .\n"})}),"\n",(0,o.jsx)(t.p,{children:"Push the image to Harbor:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"docker push harbor.<your-domain>/<team-name>/<image-name>:<tag>\n"})})]})}function u(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},5701:(e,t,s)=>{s.d(t,{Z:()=>o});const o=s.p+"assets/images/download-dcfg-5bee3033cdd1d4ea9d5a49b0b250082c.png"},1151:(e,t,s)=>{s.d(t,{Z:()=>i,a:()=>n});var o=s(7294);const r={},a=o.createContext(r);function n(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);