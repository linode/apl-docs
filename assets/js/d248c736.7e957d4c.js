"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[1888],{4604:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"get-started/labs/using-argo-cd","title":"Using Argo CD","description":"Creating Kubernetes resources using kubectl apply -f can be inefficient. As a developer, managing resources based on code stored in Git enhances control and traceability. Argo CD is integrated to provide a seamless GitOps experience, streamlining your deployment process.","source":"@site/docs/get-started/labs/using-argo-cd.md","sourceDirName":"get-started/labs","slug":"/get-started/labs/using-argo-cd","permalink":"/docs/get-started/labs/using-argo-cd","draft":false,"unlisted":false,"editUrl":"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/using-argo-cd.md","tags":[],"version":"current","frontMatter":{"slug":"using-argo-cd","title":"Using Argo CD","sidebar_label":"Using Argo CD"},"sidebar":"mainSidebar","previous":{"title":"Create Sealed Secrets","permalink":"/docs/get-started/labs/create-sealed-secrets"},"next":{"title":"Use the Catalog","permalink":"/docs/get-started/labs/use-catalog"}}');var i=t(4848),r=t(8453);const a={slug:"using-argo-cd",title:"Using Argo CD",sidebar_label:"Using Argo CD"},o=void 0,c={},l=[{value:"Create Kubernetes resources with Argo CD",id:"create-kubernetes-resources-with-argo-cd",level:2},{value:"See the Power of Argo CD in action",id:"see-the-power-of-argo-cd-in-action",level:2}];function d(e){const n={code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Creating Kubernetes resources using ",(0,i.jsx)(n.code,{children:"kubectl apply -f"})," can be inefficient. As a developer, managing resources based on code stored in Git enhances control and traceability. Argo CD is integrated to provide a seamless GitOps experience, streamlining your deployment process."]}),"\n",(0,i.jsx)(n.h2,{id:"create-kubernetes-resources-with-argo-cd",children:"Create Kubernetes resources with Argo CD"}),"\n",(0,i.jsx)(n.p,{children:"Start by navigating to the apps section in the Console, where you will find an app named Argo CD. Click on it to proceed."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Argo CD App in the Console",src:t(9015).A+"",width:"3116",height:"1326"})}),"\n",(0,i.jsx)(n.p,{children:"In Argo CD, notice that an application specific to your team has already been set up. This application syncs with any manifest present in the Gitea repository designated for your team."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Argo CD Team Application Overview",src:t(8859).A+"",width:"2992",height:"2314"})}),"\n",(0,i.jsxs)(n.p,{children:["After clicking on the app and selecting ",(0,i.jsx)(n.code,{children:"DETAILS"})," in the top left menu, you'll find the ",(0,i.jsx)(n.code,{children:"REPO URL"})," in the ",(0,i.jsx)(n.code,{children:"SUMMARY"})," section."]}),"\n",(0,i.jsxs)(n.p,{children:["Return to the Console, select the Gitea app in the apps section. In Gitea you will see a repository titled ",(0,i.jsx)(n.code,{children:"otomi/team-<name>-argocd"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Gitea Repository for Argo CD",src:t(5912).A+"",width:"3112",height:"1130"})}),"\n",(0,i.jsx)(n.h2,{id:"see-the-power-of-argo-cd-in-action",children:"See the Power of Argo CD in action"}),"\n",(0,i.jsx)(n.p,{children:"Let's demonstrate the capabilities of Argo CD by adding some manifests to the repository:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create a file named ",(0,i.jsx)(n.code,{children:"deploy-nginx.yaml"})," in the repository ",(0,i.jsx)(n.code,{children:"otomi/team-<name>-argocd"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Insert the following contents into the file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx\n  labels:\n    otomi.io/app: nginx\n    app: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n        - name: nginx\n          image: nginxinc/nginx-unprivileged:stable\n          resources:\n            limits:\n              memory: '128Mi'\n              cpu: '200m'\n            requests:\n              memory: '64Mi'\n              cpu: '100m'\n          ports:\n            - containerPort: 8080\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx\nspec:\n  selector:\n    app: nginx\n  ports:\n    - port: 80\n      targetPort: 8080\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Commit the changes to the repository."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Once you return to the Argo CD application, click on the ",(0,i.jsx)(n.code,{children:"team-<name>"})," application."]}),"\n",(0,i.jsxs)(n.p,{children:["The application is set to sync automatically, so a manual ",(0,i.jsx)(n.code,{children:"SYNC"})," is not required. Once ArgoCD completes the sync, the nginx deployment will appear as shown below:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Syncing in ArgoCD",src:t(4673).A+"",width:"2900",height:"1484"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8859:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/argo-team-app-c542dc6043accbd15bd6e1341e0f2621.png"},5912:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/argo-team-repo-13df2412a4bed1081051d91fab8160ed.png"},4673:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/argo-team-sync-fadd7f408a457c16fc11e9faf568ee2a.png"},9015:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/team-app-argo-02ff816770f3254d584f53a897406350.png"},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);