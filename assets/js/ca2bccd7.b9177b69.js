"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[1294],{2538:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"get-started/labs/monitor-services","title":"Monitoring service availability","description":"When your application is deployed and exposed, you probably would like to get an alert when your application (service) is not available anymore. To automatically monitor you applications for availability, a probe to monitor your service is automatically configured.","source":"@site/docs/get-started/labs/monitor-services.md","sourceDirName":"get-started/labs","slug":"/get-started/labs/monitor-services","permalink":"/docs/get-started/labs/monitor-services","draft":false,"unlisted":false,"editUrl":"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/monitor-services.md","tags":[],"version":"current","frontMatter":{"slug":"monitor-services","title":"Monitoring service availability","sidebar_label":"Monitor Services"},"sidebar":"mainSidebar","previous":{"title":"View Container Metrics","permalink":"/docs/get-started/labs/view-metrics"},"next":{"title":"Using custom metrics","permalink":"/docs/get-started/labs/custom-metrics"}}');var s=a(4848),i=a(8453);const r={slug:"monitor-services",title:"Monitoring service availability",sidebar_label:"Monitor Services"},l=void 0,o={},c=[{value:"Check alerts in Alertmanager",id:"check-alerts-in-alertmanager",level:2},{value:"Scale down the replicas of a Workload",id:"scale-down-the-replicas-of-a-workload",level:2},{value:"Check the alerts again",id:"check-the-alerts-again",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"When your application is deployed and exposed, you probably would like to get an alert when your application (service) is not available anymore. To automatically monitor you applications for availability, a probe to monitor your service is automatically configured."}),"\n",(0,s.jsx)(t.p,{children:"In this lab we'll scale down the replicas of a workload to see how this works."}),"\n",(0,s.jsx)(t.h2,{id:"check-alerts-in-alertmanager",children:"Check alerts in Alertmanager"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["In the left menu, click on ",(0,s.jsx)(t.code,{children:"Apps"})," and open ",(0,s.jsx)(t.code,{children:"Alertmanager"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"alertmanager",src:a(5689).A+"",width:"3126",height:"1310"})}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"As you can see, there are currently no alerts:"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"alertmanager",src:a(1303).A+"",width:"2968",height:"1102"})}),"\n",(0,s.jsx)(t.h2,{id:"scale-down-the-replicas-of-a-workload",children:"Scale down the replicas of a Workload"}),"\n",(0,s.jsxs)(t.p,{children:["In the lab ",(0,s.jsx)(t.a,{href:"expose-services",children:"Expose Services"})," we exposed the ",(0,s.jsx)(t.code,{children:"blue"})," service. Let's scale down the ",(0,s.jsx)(t.code,{children:"blue"})," Workload and see what happens:"]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Go to ",(0,s.jsx)(t.code,{children:"Workloads"})," in the left menu and click on the ",(0,s.jsx)(t.code,{children:"blue"})," Workload."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Click on the ",(0,s.jsx)(t.code,{children:"Values"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["In the workload ",(0,s.jsx)(t.code,{children:"values"}),", set the ",(0,s.jsx)(t.code,{children:"replicaCount"})," to ",(0,s.jsx)(t.code,{children:"0"}),":"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"replicaCount: 0\n"})}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsxs)(t.li,{children:["Click ",(0,s.jsx)(t.code,{children:"Submit"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"check-the-alerts-again",children:"Check the alerts again"}),"\n",(0,s.jsx)(t.p,{children:"Go back to Alertmanager and see if there are new alerts. You should see the following alert:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"alertmanager",src:a(9895).A+"",width:"3120",height:"1100"})}),"\n",(0,s.jsxs)(t.p,{children:["Click on ",(0,s.jsx)(t.code,{children:"+Info"}),":"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"alertmanager",src:a(7146).A+"",width:"3124",height:"1348"})}),"\n",(0,s.jsxs)(t.p,{children:["The Target ",(0,s.jsx)(t.code,{children:"https://blue-labs.labs.try-apl.net/"})," is down!"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1303:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/alertmanager-no-alerts-fc330831713a7bf1f62237185a8b599b.png"},7146:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/alertmanager-with-alert-2-af234f511356e6295141a81cc403238d.png"},9895:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/alertmanager-with-alert-e88e75cc0dcb70af8080291150340974.png"},5689:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/team-alertmanager-f43f3b803ba9dc2c98161ced1f13aa08.png"},8453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>l});var n=a(6540);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);