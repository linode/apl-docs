"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[681],{8995:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var s=t(5893),a=t(1151);const i={slug:"monitor-services",title:"Monitoring service availability",sidebar_label:"Monitor Services"},r=void 0,l={id:"get-started/labs/monitor-services",title:"Monitoring service availability",description:"When your application is deployed and exposed, you probably would like to get an alert when your application (service) is not available anymore. To automatically monitor you applications for availability, a probe to monitor your service is automatically configured.",source:"@site/docs/get-started/labs/monitor-services.md",sourceDirName:"get-started/labs",slug:"/get-started/labs/monitor-services",permalink:"/docs/get-started/labs/monitor-services",draft:!1,unlisted:!1,editUrl:"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/monitor-services.md",tags:[],version:"current",frontMatter:{slug:"monitor-services",title:"Monitoring service availability",sidebar_label:"Monitor Services"},sidebar:"mainSidebar",previous:{title:"View Container Metrics",permalink:"/docs/get-started/labs/view-metrics"},next:{title:"Using custom metrics",permalink:"/docs/get-started/labs/custom-metrics"}},o={},c=[{value:"Check alerts in Alertmanager",id:"check-alerts-in-alertmanager",level:2},{value:"Scale down the replicas of a Workload",id:"scale-down-the-replicas-of-a-workload",level:2},{value:"Check the alerts again",id:"check-the-alerts-again",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"When your application is deployed and exposed, you probably would like to get an alert when your application (service) is not available anymore. To automatically monitor you applications for availability, a probe to monitor your service is automatically configured."}),"\n",(0,s.jsx)(n.p,{children:"In this lab we'll scale down the replicas of a workload to see how this works."}),"\n",(0,s.jsx)(n.h2,{id:"check-alerts-in-alertmanager",children:"Check alerts in Alertmanager"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["In the left menu, click on ",(0,s.jsx)(n.code,{children:"Apps"})," and open ",(0,s.jsx)(n.code,{children:"Alertmanager"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alertmanager",src:t(2655).Z+"",width:"3128",height:"1556"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"As you can see, there are currently no alerts:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alertmanager",src:t(4006).Z+"",width:"2968",height:"1102"})}),"\n",(0,s.jsx)(n.h2,{id:"scale-down-the-replicas-of-a-workload",children:"Scale down the replicas of a Workload"}),"\n",(0,s.jsxs)(n.p,{children:["In the lab ",(0,s.jsx)(n.a,{href:"expose-services",children:"Expose Services"})," we exposed the ",(0,s.jsx)(n.code,{children:"blue"})," service. Let's scale down the ",(0,s.jsx)(n.code,{children:"blue"})," Workload and see what happens:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Go to ",(0,s.jsx)(n.code,{children:"Workloads"})," in the left menu and click on the ",(0,s.jsx)(n.code,{children:"blue"})," Workload."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click on the ",(0,s.jsx)(n.code,{children:"Values"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the workload ",(0,s.jsx)(n.code,{children:"values"}),", set the ",(0,s.jsx)(n.code,{children:"replicaCount"})," to ",(0,s.jsx)(n.code,{children:"0"}),":"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"replicaCount: 0\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.code,{children:"Submit"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.code,{children:"Deploy Changes"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"check-the-alerts-again",children:"Check the alerts again"}),"\n",(0,s.jsx)(n.p,{children:"Go back to Alertmanager and see if there are new alerts. You should see the following alert:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alertmanager",src:t(9744).Z+"",width:"3120",height:"1100"})}),"\n",(0,s.jsxs)(n.p,{children:["Click on ",(0,s.jsx)(n.code,{children:"+Info"}),":"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"alertmanager",src:t(8631).Z+"",width:"3124",height:"1348"})}),"\n",(0,s.jsxs)(n.p,{children:["The Target ",(0,s.jsx)(n.code,{children:"https://blue-labs.labs.try-apl.net/"})," is down!"]})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},4006:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/alertmanager-no-alerts-fc330831713a7bf1f62237185a8b599b.png"},8631:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/alertmanager-with-alert-2-af234f511356e6295141a81cc403238d.png"},9744:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/alertmanager-with-alert-e88e75cc0dcb70af8080291150340974.png"},2655:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/team-alertmanager-1eb4ff685868b94816f4f42e9cf0df33.png"},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>r});var s=t(7294);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);