"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[1968],{4543:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"get-started/labs/push-images","title":"Push images to Harbor","description":"For this lab, Harbor needs to be activated and the cluster needs to be configured with trusted certificates (Let\'s Encrypt production certificates).","source":"@site/docs/get-started/labs/push-images.md","sourceDirName":"get-started/labs","slug":"/get-started/labs/push-images","permalink":"/docs/get-started/labs/push-images","draft":false,"unlisted":false,"editUrl":"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/push-images.md","tags":[],"version":"current","frontMatter":{"slug":"push-images","title":"Push images to Harbor","sidebar_label":"Manually Push Images"},"sidebar":"mainSidebar","previous":{"title":"Trigger Builds","permalink":"/docs/get-started/labs/trigger-builds"},"next":{"title":"Create Sealed Secrets","permalink":"/docs/get-started/labs/create-sealed-secrets"}}');var s=o(4848),a=o(8453);const n={slug:"push-images",title:"Push images to Harbor",sidebar_label:"Manually Push Images"},i=void 0,d={},c=[{value:"Login to Harbor",id:"login-to-harbor",level:2}];function l(e){const t={admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"For this lab, Harbor needs to be activated and the cluster needs to be configured with trusted certificates (Let's Encrypt production certificates)."})}),"\n",(0,s.jsx)(t.h2,{id:"login-to-harbor",children:"Login to Harbor"}),"\n",(0,s.jsxs)(t.p,{children:["To be able to push images to Harbor, you'll need a robot account with push permissions. Teams are offered the option to download the Docker config for their Team's private registry in Harbor. In the left menu you will see the option ",(0,s.jsx)(t.code,{children:"Download DOCKERCFG"}),". Click on it to download the credentials."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"The Download the DOCKERCFG feature needs to be enabled by a platform admin!"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"harbor-projects",src:o(7793).A+"",width:"3120",height:"1342"})}),"\n",(0,s.jsxs)(t.p,{children:["When you have downloaded the docker config, copy the file to your ",(0,s.jsx)(t.code,{children:".Docker"})," folder:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"cp docker-team-labs.json $HOME/.Docker\n"})}),"\n",(0,s.jsx)(t.p,{children:"And log in to the Harbor registry:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"docker login harbor.<domain-of-your-cluster>\n"})}),"\n",(0,s.jsx)(t.p,{children:"Build and tag your image:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"docker build -t harbor.<your-domain>/team-<team-name>/<image-name>:<tag> <path to your Dockerfile>\n"})}),"\n",(0,s.jsx)(t.p,{children:"Push the image to Harbor:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"docker push harbor.<your-domain>/team-<team-name>/<image-name>:<tag>\n"})})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},7793:(e,t,o)=>{o.d(t,{A:()=>r});const r=o.p+"assets/images/download-dcfg-a0d9b111f7965c5a550837d7d6a07e59.png"},8453:(e,t,o)=>{o.d(t,{R:()=>n,x:()=>i});var r=o(6540);const s={},a=r.createContext(s);function n(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);