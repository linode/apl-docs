"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[8430],{9487:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"for-ops/sre/daily","title":"SRE Daily Routine","description":"As an SRE you would like to keep your daily tasks to a minimum and be automatically informed on issues. App Platform offers the following tools to automate this:","source":"@site/docs/for-ops/sre/daily.md","sourceDirName":"for-ops/sre","slug":"/for-ops/sre/daily","permalink":"/docs/for-ops/sre/daily","draft":false,"unlisted":false,"editUrl":"https://github.com/linode/linode.github.io/tree/main/docs/for-ops/sre/daily.md","tags":[],"version":"current","frontMatter":{"slug":"daily","title":"SRE Daily Routine","sidebar_label":"Daily Routine"},"sidebar":"mainSidebar","previous":{"title":"Overview","permalink":"/docs/for-ops/sre/overview"},"next":{"title":"Known Issues","permalink":"/docs/for-ops/sre/known-issues"}}');var o=s(4848),t=s(8453);const r={slug:"daily",title:"SRE Daily Routine",sidebar_label:"Daily Routine"},l=void 0,a={},c=[{value:"Steps to perform",id:"steps-to-perform",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"As an SRE you would like to keep your daily tasks to a minimum and be automatically informed on issues. App Platform offers the following tools to automate this:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Prometheus is the main monitoring tool, and notifications will be triggered for issues that need attention"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Loki is used to collect cluster and container logs. Loki will only collect logs and not analyze them, it's up to the user to review the logs. Logs can help find issues that are invisible to monitoring systems"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Grafana is used to visualize metrics, it can help you analyze issues with performance. (Note that we don't use its alerting capabilities.) Its historical data can help in pinpointing resource conflicts over time"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Prometheus BlackBox exporter is a service probing tool used by Prometheus to periodically probe services over HTTP, TCP, UDP, and ICMP. When it receives non-valid responses it will trigger an alert"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"App Platform makes use of Slack (but MS Teams and email can also be configured) as the main notifications channel. Subscribe to the configured channels."}),"\n",(0,o.jsx)(n.h3,{id:"steps-to-perform",children:"Steps to perform"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"[ONGOING] Keep a close eye on the #mon-* channels in Slack, it will show all Alertmanager notifications"}),"\n",(0,o.jsx)(n.li,{children:"[ONGOING] Proactively monitor things not automatically detected (see the following steps)"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Since not everything is monitored it is necessary to log in to certain systems and look:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Check k9s (or ",(0,o.jsx)(n.code,{children:"kubectl top nodes"}),") for current cluster resource usage"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Check Grafana for cluster resource and disk usage"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Check Loki for stderr messages on the cluster"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Check if pods are restarting over and over"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Check if operators are working. (some operators stop working after a while, the Istio operator is an important component)"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Check for cluster events (",(0,o.jsx)(n.code,{children:"kubectl get events -A"}),") on all nodes and validate if any pods have issues"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"[PERIODICALLY] Check if Prometheus (BlackBox) rules are correct"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"[OPTIONAL] Check if a backup is available for state data"}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const o={},t=i.createContext(o);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);