"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[1968],{4543:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"get-started/labs/push-images","title":"Push images to Harbor","description":"For this lab, Harbor needs to be activated and the cluster needs to be configured with trusted certificates (like Let\'s Encrypt using production certificate).","source":"@site/docs/get-started/labs/push-images.md","sourceDirName":"get-started/labs","slug":"/get-started/labs/push-images","permalink":"/docs/get-started/labs/push-images","draft":false,"unlisted":false,"editUrl":"https://github.com/linode/linode.github.io/tree/main/docs/get-started/labs/push-images.md","tags":[],"version":"current","frontMatter":{"slug":"push-images","title":"Push images to Harbor","sidebar_label":"Push Images"},"sidebar":"mainSidebar","previous":{"title":"Trigger Builds","permalink":"/docs/get-started/labs/trigger-builds"},"next":{"title":"Create Sealed Secrets","permalink":"/docs/get-started/labs/create-sealed-secrets"}}');var a=o(4848),r=o(8453);const n={slug:"push-images",title:"Push images to Harbor",sidebar_label:"Push Images"},i=void 0,d={},c=[{value:"Login to Harbor",id:"login-to-harbor",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsx)(t.p,{children:"For this lab, Harbor needs to be activated and the cluster needs to be configured with trusted certificates (like Let's Encrypt using production certificate)."})}),"\n",(0,a.jsx)(t.h2,{id:"login-to-harbor",children:"Login to Harbor"}),"\n",(0,a.jsxs)(t.p,{children:["To be able to push images to Harbor, you'll need a robot account with push permissions. Teams are offered the option to download the Docker config for their team's private registry in Harbor. In the left menu you will see the option ",(0,a.jsx)(t.code,{children:"Download DOCKERCFG"}),". Click on it to download the credentials."]}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["To download the DOCKERCFG, enable this option in the team settings. See team settings for more information: ",(0,a.jsx)(t.a,{href:"/docs/for-ops/console/teams",children:"Platform - Teams"}),"."]})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"harbor-projects",src:o(7793).A+"",width:"3120",height:"1342"})}),"\n",(0,a.jsxs)(t.p,{children:["When you have downloaded the docker config. Get the password from the config and paste it below, then run ",(0,a.jsx)(t.code,{children:"docker login"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker login -u 'otomi-team-<team-name>-push' -p <password> harbor.<your-domain>\n"})}),"\n",(0,a.jsx)(t.p,{children:"Build and tag your image:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker build -t harbor.<your-domain>/team-<team-name>/<image-name>:<tag> <path to your Dockerfile>\n"})}),"\n",(0,a.jsx)(t.p,{children:"Push the image to Harbor:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker push harbor.<your-domain>/team-<team-name>/<image-name>:<tag>\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},7793:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/download-dcfg-a0d9b111f7965c5a550837d7d6a07e59.png"},8453:(e,t,o)=>{o.d(t,{R:()=>n,x:()=>i});var s=o(6540);const a={},r=s.createContext(a);function n(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);