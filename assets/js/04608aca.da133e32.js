"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[6444],{9848:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"for-ops/console/usermgnt","title":"Platform - User Management","description":"User Management will only be available when Keycloak is configured as the Identity Provider (default). When OIDC is configured, the User Management section will not be available.","source":"@site/docs/for-ops/console/usermgnt.md","sourceDirName":"for-ops/console","slug":"/for-ops/console/user-management","permalink":"/docs/for-ops/console/user-management","draft":false,"unlisted":false,"editUrl":"https://github.com/linode/linode.github.io/tree/main/docs/for-ops/console/usermgnt.md","tags":[],"version":"current","frontMatter":{"slug":"user-management","title":"Platform - User Management","sidebar_label":"User Management"},"sidebar":"mainSidebar","previous":{"title":"Teams","permalink":"/docs/for-ops/console/teams"},"next":{"title":"Projects","permalink":"/docs/for-ops/console/projects"}}');var i=s(4848),r=s(8453);const a={slug:"user-management",title:"Platform - User Management",sidebar_label:"User Management"},o=void 0,l={},d=[{value:"About User Management",id:"about-user-management",level:2},{value:"Creating Users",id:"creating-users",level:2},{value:"Assinging Users to Teams",id:"assinging-users-to-teams",level:2}];function c(e){const n={admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"User Management will only be available when Keycloak is configured as the Identity Provider (default). When OIDC is configured, the User Management section will not be available."})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"User Management can only be used to manage the users of the platform instance (single cluster)."})}),"\n",(0,i.jsx)(n.h2,{id:"about-user-management",children:"About User Management"}),"\n",(0,i.jsx)(n.p,{children:"What you need to know about the User Management feature:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Only Platform admins can create or delete users in the platform view."}),"\n",(0,i.jsxs)(n.li,{children:["A Platform admins can assign users the role of ",(0,i.jsx)(n.code,{children:"platform admin"}),", ",(0,i.jsx)(n.code,{children:"Team admin"})," or ",(0,i.jsx)(n.code,{children:"Team member"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Users can be created without assigning them directly to a Team."}),"\n",(0,i.jsx)(n.li,{children:"Team admins can assign users the role of Team member of the Team they administer."}),"\n",(0,i.jsx)(n.li,{children:"Team admins can not remove themselves from Teams they administer (this can only be done by the platform admin)."}),"\n",(0,i.jsx)(n.li,{children:"Team admins can not remove other Team admins from their teams (this can only be done by the platform admin)."}),"\n",(0,i.jsx)(n.li,{children:"Team admins can not add Platform admins to their Teams."}),"\n",(0,i.jsx)(n.li,{children:"Team members are not able to see the User Management section in the menu."}),"\n",(0,i.jsxs)(n.li,{children:["Users are stored encrypted in the ",(0,i.jsx)(n.code,{children:"values"})," repository ",(0,i.jsx)(n.code,{children:"env/secrets.users.yaml"})," file."]}),"\n",(0,i.jsx)(n.li,{children:"The initial login credentials of a new User can be copied from the platform view user management page by Platform admins only."}),"\n",(0,i.jsx)(n.li,{children:"Users\u2019 passwords are not stored in the values repo (except initial password)."}),"\n",(0,i.jsxs)(n.li,{children:["A password reset can only be performed by a Platform admin. Password restest need to be done in the Keycloak app using the ",(0,i.jsx)(n.code,{children:"otomi-admin"})," credentials. As an alternative Platform admin can also re-create a user."]}),"\n",(0,i.jsxs)(n.li,{children:["The User management feature follows the Single Source of Truth principle by referencing the ",(0,i.jsx)(n.code,{children:"env/secrets.users.yaml"})," file in the ",(0,i.jsx)(n.code,{children:"values"})," repository. If a new user is created directly in Keycloak, this user will be deleted at the next commit."]}),"\n",(0,i.jsx)(n.li,{children:"Kubernetes secrets are used to pass user data between Pods, but there is a limit for user-defined variables. The maximum size of a user-defined environment variable is 32,767 characters. This limits the amount of users that can be created to around 200."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating-users",children:"Creating Users"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select the ",(0,i.jsx)(n.code,{children:"Platform"})," view in the top bar."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.code,{children:"User Management"})," in the left menu."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.code,{children:"Create User"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Fill in a unique ",(0,i.jsx)(n.code,{children:"email"})," address and the first and last name of the new user."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Add the new user to the required groups:"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.code,{children:"Is platform admin"})," to add the user to the ",(0,i.jsx)(n.code,{children:"Platform Administrators"})," group."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.code,{children:"Is team admin"})," to add the user to the ",(0,i.jsx)(n.code,{children:"Team Administrators"})," group. When the user becomes a Team admin, optionally also select the Teams the user is going to administer."]}),"\n",(0,i.jsxs)(n.li,{children:["Select a ",(0,i.jsx)(n.code,{children:"Team"})," to add the user to the ",(0,i.jsx)(n.code,{children:"team members"})," group."]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.code,{children:"Submit"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the list of Users, click on the ",(0,i.jsx)(n.code,{children:"copy initial credentials to clipboard"})," icon."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Send the initial credentials to the new user."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The new user will be prompted to change the initial password at first login."}),"\n",(0,i.jsxs)(n.p,{children:["The following example shows how to create a user account and assign the user the ",(0,i.jsx)(n.code,{children:"team-admin"})," role for the Team ",(0,i.jsx)(n.code,{children:"Demo"}),":"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"User Management",src:s(9794).A+"",width:"1392",height:"934"})}),"\n",(0,i.jsx)(n.h2,{id:"assinging-users-to-teams",children:"Assinging Users to Teams"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select the ",(0,i.jsx)(n.code,{children:"Team"})," view in the top bar and the Team that you would like to administer."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Search for the user you would like to make a member."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select the ",(0,i.jsx)(n.code,{children:"Assign to team <team-name>"})," checkbox."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click on ",(0,i.jsx)(n.code,{children:"Update Users"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},9794:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/create-user-f8e920993a002f044a8338df7672b417.png"},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);